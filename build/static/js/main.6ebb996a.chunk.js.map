{"version":3,"sources":["pages/main/style.module.css","assets/loading.gif","utils/request.js","redux-create/utils.js","redux-create/checkModel.js","redux-create/constants.js","redux-create/createAction.js","redux-create/createReducer.js","redux-create/index.js","models/main.js","models/index.js","components/input-search/InputSearch.js","components/input-search/index.js","components/load-more/index.js","components/load-more/LoadMore.jsx","pages/main/index.js","serviceWorker.js","index.js","components/input-search/InputSearch.module.css"],"names":["module","exports","request","postData","Promise","resolve","reject","url","searchKey","setTimeout","axios","get","then","response","data","feed","entry","console","log","filter","item","label","inclouds","attributes","current","pageSize","list","slice","forEach","starNum","Math","floor","random","commentNum","total","length","catch","error","isFunction","f","isObject","o","a","Array","isArray","isObjectObject","Object","prototype","toString","call","isPlainObject","ctor","prot","constructor","hasOwnProperty","invariant","b","s","Error","isFunctionObject","obj","keys","every","key","NAMESPACE_SEP","createAction","model","reducerAction","reducers","reduce","reducer","payload","type","namespace","effectAction","effects","dispatch","getState","actionTypes","param","createReducer","reducerObj","state","action","existModels","some","checkModel","appList","loading","recomend","updateAppList","assign","sources","updateRecomend","getAppList","getRecomend","push","actions","combineReducers","main","InputSearch","focus","this","setState","props","value","placeholder","className","styles","searchBar","searchForm","onSubmit","e","handleSubmit","inputBox","searchIcon","ref","searchInput","maxLength","onFocus","onChange","handleChange","crossIcon","onClick","handleClear","cancelBtn","style","opacity","handleCancel","PureComponent","defaultProps","LoadMore","wrapper","React","createRef","timer","windowHeight","window","screen","height","callback","top","getBoundingClientRect","loadMoreFn","addEventListener","status","clearTimeout","dom","src","alt","width","margin","textAlign","lineHeight","fontSize","color","Component","Main","handleChangeSearchInput","title","map","recomendItem","name","category","index","id","appListItem","appIconOdd","appIconEven","appListInfo","comment","fill","_","star","undefined","connect","Boolean","location","hostname","match","store","createStore","applyMiddleware","thunk","createLogger","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6ebb996a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"recomend\":\"style_recomend__1U23M\",\"title\":\"style_title__1M8Bq\",\"recomendItem\":\"style_recomendItem__-6ULD\",\"name\":\"style_name__3wVWA\",\"category\":\"style_category__3DrF2\",\"appList\":\"style_appList__2gW29\",\"appListItem\":\"style_appListItem__2yhS9\",\"appIconOdd\":\"style_appIconOdd__1m06e\",\"appIconEven\":\"style_appIconEven__2g3tY\",\"appListInfo\":\"style_appListInfo__2MalN\",\"comment\":\"style_comment__3cd3E\",\"star\":\"style_star__3w_Ei\"};","module.exports = __webpack_public_path__ + \"static/media/loading.344f3a29.gif\";","/**\n * @author wayraki\n * @description 请求方法，模拟接口通过参数返回对应数据\n * @method request\n * @param object postData 请求参数\n */\n\nimport axios from 'axios'\n\nexport default function request(postData) {\n  return new Promise((resolve, reject) => {\n    const { url, searchKey } = postData\n    function fetch() {\n      axios\n        .get(url)\n        .then(function(response) {\n          let data = response.data.feed.entry\n          console.log(data)\n          if (searchKey) {\n            data = data.filter(item => {\n              return (\n                item['im:name'].label.inclouds(searchKey) ||\n                item['category'].attributes.label.inclouds(searchKey) ||\n                item['im:artist'].label.inclouds(searchKey) ||\n                item['summary'].label.inclouds(searchKey)\n              )\n            })\n          }\n          if (url === 'appListData.json') {\n            const { current, pageSize } = postData\n            let list = data.slice((current - 1) * pageSize, current * pageSize)\n            list.forEach(item => {\n              item.starNum = Math.floor(Math.random() * 5) + 1\n              item.commentNum = Math.floor(Math.random() * 1000)\n            })\n            resolve({\n              list,\n              current,\n              pageSize,\n              total: data.length\n            })\n          } else {\n            let list = data.slice(0, 10)\n            resolve({\n              list\n            })\n          }\n        })\n        .catch(function(error) {\n          reject(error)\n        })\n    }\n    // 模拟网络延迟\n    setTimeout(fetch, 2000)\n  })\n}\n","export const isArray = a => Array.isArray(a)\n\nexport const isFunction = f => typeof f === 'function'\n\nexport const isObject = o => o != null && typeof o === 'object' && !isArray(o)\n\nexport const isObjectObject = o =>\n  isObject(o) === true &&\n  Object.prototype.toString.call(o) === '[object Object]'\n\nexport const isPlainObject = o => {\n  var ctor, prot\n  if (isObjectObject(o) === false) return false\n  ctor = o.constructor\n  if (typeof ctor !== 'function') return false\n  prot = ctor.prototype\n  if (isObjectObject(prot) === false) return false\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false\n  }\n  return true\n}\n\nexport const invariant = (b, s) => {\n  if (!b) {\n    throw new Error(s)\n  }\n}\n","import { isFunction, isPlainObject, invariant } from './utils'\n\nfunction isFunctionObject(obj) {\n  return (\n    isPlainObject(obj) && Object.keys(obj).every(key => isFunction(obj[key]))\n  )\n}\n\nexport default function checkModel(model, existModels) {\n  const { namespace, reducers, effects } = model\n\n  // namespace 必须被定义\n  invariant(namespace, `[model] namespace should be defined`)\n\n  // 并且是字符串\n  invariant(\n    typeof namespace === 'string',\n    `[model] namespace should be string, but got ${typeof namespace}`\n  )\n\n  // 并且唯一\n  invariant(\n    !existModels.some(model => model.namespace === namespace),\n    `[model] namespace should be unique`\n  )\n\n  // reducers 可以为空，PlainObject\n  if (reducers) {\n    invariant(\n      isFunctionObject(reducers),\n      `[model] reducers should be plain function object, but got ${typeof reducers}`\n    )\n  }\n\n  // effects 可以为空，PlainObject\n  if (effects) {\n    invariant(\n      isFunctionObject(effects),\n      `[model] effects should be plain function object, but got ${typeof effects}`\n    )\n  }\n}\n","export const NAMESPACE_SEP = '/'\n","import { NAMESPACE_SEP } from './constants'\n\nexport default function createAction(model) {\n  // 生成actionType\n  const reducerAction = Object.keys(model.reducers || []).reduce(\n    (reducer, key) => {\n      return {\n        ...reducer,\n        [key]: function(payload) {\n          return {\n            type: `${model.namespace}${NAMESPACE_SEP}${key}`,\n            payload\n          }\n        }\n      }\n    },\n    {}\n  )\n  // 生成redux-thunk\n  const effectAction = Object.keys(model.effects || []).reduce(\n    (effects, key) => {\n      return {\n        ...effects,\n        [key]: payload => (dispatch, getState) => {\n          const _dispatch = (actionTypes, param) => {\n            dispatch(reducerAction[actionTypes](param))\n          }\n          model.effects[key](payload, _dispatch, getState)\n        }\n      }\n    },\n    {}\n  )\n  return { ...reducerAction, ...effectAction }\n}\n","import { NAMESPACE_SEP } from './constants'\n\nexport default function createReducer(model) {\n  // 生成reducer\n  const reducerObj = Object.keys(model.reducers || []).reduce(\n    (reducer, key) => {\n      return {\n        ...reducer,\n        [`${model.namespace}${NAMESPACE_SEP}${key}`]: model.reducers[key]\n      }\n    },\n    {}\n  )\n  return function(state = model.state, action) {\n    if (reducerObj.hasOwnProperty(action.type)) {\n      return reducerObj[action.type](action.payload, state)\n    }\n    return state\n  }\n}\n","import checkModel from './checkModel'\nimport createAction from './createAction'\nimport createReducer from './createReducer'\n\nconst existModels = []\n\nexport function model(model) {\n  checkModel(model, existModels)\n  existModels.push(model.namespace)\n\n  return {\n    actions: createAction(model),\n    reducer: createReducer(model)\n  }\n}\n","import request from '../utils/request'\nimport { model } from '../redux-create'\n\nexport default model({\n  namespace: 'main',\n  state: {\n    appList: { list: [], current: 1, pageSize: 10, loading: false },\n    recomend: { list: [], loading: false }\n  },\n  reducers: {\n    updateAppList(data, state) {\n      const { list, current, loading } = data\n      if (loading) {\n        const appList = { ...state.appList, loading: true }\n        return Object.assign({}, state, { appList })\n      }\n      const sources = {\n        ...data,\n        list: current === 1 ? list : [...state.appList.list, ...list],\n        loading: false\n      }\n      return Object.assign({}, state, { appList: sources })\n    },\n    updateRecomend(data, state) {\n      const { list, loading } = data\n      if (loading) {\n        const recomend = { ...state.recomend, loading: true }\n        return Object.assign({}, state, { recomend })\n      }\n      const sources = {\n        list: list,\n        loading: false\n      }\n      return Object.assign({}, state, { recomend: sources })\n    }\n  },\n  effects: {\n    async getAppList(payload, dispatch, getState) {\n      dispatch('updateAppList', { loading: true })\n      const data = await request(payload)\n      dispatch('updateAppList', data)\n    },\n    async getRecomend(payload, dispatch, getState) {\n      dispatch('updateRecomend', { loading: true })\n      const data = await request(payload)\n      dispatch('updateRecomend', data)\n    }\n  }\n})\n","import { combineReducers } from 'redux'\nimport main from './main'\n\nexport default combineReducers({\n  main: main.reducer\n})\n","/**\r\n * @author wayraki\r\n * @description inputSearch组件\r\n */\r\n\r\nimport React, { PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport styles from './InputSearch.module.css'\r\n\r\nclass InputSearch extends PureComponent {\r\n  static propTypes = {\r\n    value: PropTypes.string,\r\n    placeholder: PropTypes.string,\r\n    onChange: PropTypes.func\r\n  }\r\n\r\n  static defaultProps = {\r\n    value: '',\r\n    placeholder: ''\r\n  }\r\n\r\n  state = {\r\n    focus: false\r\n  }\r\n\r\n  handleCancel() {\r\n    this.setState({ focus: false })\r\n  }\r\n\r\n  render() {\r\n    const { focus } = this.state\r\n    const { value, placeholder } = this.props\r\n    return (\r\n      <div className={styles.searchBar}>\r\n        <form\r\n          className={styles.searchForm}\r\n          onSubmit={e => this.handleSubmit(e)}\r\n          // eslint-disable-next-line no-script-url\r\n          action=\"javascript:void(0);\"\r\n        >\r\n          <div className={styles.inputBox}>\r\n            <i className={styles.searchIcon} />\r\n            <input\r\n              ref={this.searchInput}\r\n              type=\"search\"\r\n              maxLength={20}\r\n              value={value}\r\n              placeholder={placeholder}\r\n              onFocus={e => this.setState({ focus: true })}\r\n              onChange={e => this.handleChange(e)}\r\n            />\r\n            {value.length > 0 ? (\r\n              <i className={styles.crossIcon} onClick={this.handleClear} />\r\n            ) : null}\r\n          </div>\r\n        </form>\r\n        <button\r\n          className={styles.cancelBtn}\r\n          style={{\r\n            opacity: focus ? '1' : '0'\r\n          }}\r\n          onClick={() => this.handleCancel()}\r\n        >\r\n          取消\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default InputSearch\r\n","import InputSearch from './InputSearch'\r\n\r\nexport default InputSearch\r\n","import LoadMore from './LoadMore'\r\n\r\nexport default LoadMore\r\n","/**\n * @author wayraki\n * @description loadMore组件\n */\n\n/* eslint-disable no-useless-computed-key */\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport loading from '../../assets/loading.gif'\n\nclass LoadMore extends Component {\n  static propTypes = {\n    loadMoreFn: PropTypes.func,\n    status: PropTypes.oneOf(['loading', 'next', 'isAll', 'noData'])\n  }\n  constructor(props) {\n    super(props)\n    this.wrapper = React.createRef()\n  }\n  componentDidMount() {\n    const windowHeight = window.screen.height\n    const callback = () => {\n      // wrapper位置\n      const top = this.wrapper.current.getBoundingClientRect().top\n      if (top && top < windowHeight - 12) {\n        // 当wrapper已经被滚动到页面可视范围之内触发\n        console.log('loading more...')\n        this.props.loadMoreFn && this.props.loadMoreFn()\n      }\n    }\n\n    // 滚动事件\n    let timer\n    window.addEventListener('scroll', () => {\n      if (this.props.status !== 'next') {\n        return\n      }\n      if (timer) {\n        clearTimeout(timer)\n      }\n      timer = setTimeout(callback, 50)\n    })\n  }\n\n  render() {\n    let dom = {\n      ['loading']: (\n        <img src={loading} alt=\"loading\" style={{ width: '32px' }} />\n      ),\n      ['next']: '加载更多',\n      ['isAll']: '我是有底线的',\n      ['noData']: '暂无数据'\n    }\n    return (\n      <div\n        ref={this.wrapper}\n        style={{\n          height: 32,\n          margin: '0 auto',\n          textAlign: 'center',\n          lineHeight: '32px',\n          fontSize: 12,\n          color: '#666'\n        }}\n      >\n        {dom[this.props.status]}\n      </div>\n    )\n  }\n}\n\nexport default LoadMore\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport InputSearch from '../../components/input-search'\nimport LoadMore from '../../components/load-more'\nimport model from '../../models/main'\nimport styles from './style.module.css'\n\nclass Main extends Component {\n  static propTypes = {\n    appList: PropTypes.object,\n    recomend: PropTypes.object,\n    getAppList: PropTypes.func,\n    getRecomend: PropTypes.func\n  }\n\n  static defaultProps = {\n    appList: {},\n    recomend: {},\n    getAppList: undefined,\n    getRecomend: undefined\n  }\n\n  state = {\n    searchKey: ''\n  }\n\n  componentDidMount() {\n    this.getAppList()\n    this.getRecomend()\n  }\n\n  getAppList = (current = 1) => {\n    if (this.props.appList.loading) {\n      return\n    }\n    this.props.getAppList({\n      url: 'appListData.json',\n      current,\n      pageSize: 10,\n      searchKey: this.state.searchKey\n    })\n  }\n\n  getRecomend = () => {\n    if (this.props.appList.loading) {\n      return\n    }\n    this.props.getRecomend({\n      url: 'recomendData.json',\n      searchKey: this.state.searchKey\n    })\n  }\n\n  handleChangeSearchInput = value => {\n    this.setState({ searchKey: value })\n    this.getAppList()\n    this.getRecomend()\n  }\n\n  render() {\n    const { appList, recomend } = this.props\n    let status\n    if (appList.loading) {\n      status = 'loading'\n    } else {\n      if (appList.list.length) {\n        if (appList.list.length === appList.total) {\n          status = 'isAll'\n        } else {\n          status = 'next'\n        }\n      } else {\n        status = 'noData'\n      }\n    }\n    return (\n      <div>\n        <InputSearch\n          value={this.state.searchKey}\n          onChange={this.handleChangeSearchInput}\n        />\n        {recomend.loading ? null : (\n          <div className={styles.recomend}>\n            <h1 className={styles.title}>推介</h1>\n            <ul>\n              {recomend.loading\n                ? '加载中'\n                : recomend.list.map(item => (\n                    <li className={styles.recomendItem}>\n                      <img src={item['im:image'][1].label} alt=\"\" />\n                      <p className={styles.name}>{item['im:name'].label}</p>\n                      <p className={styles.category}>\n                        {item.category.attributes.label}\n                      </p>\n                    </li>\n                  ))}\n            </ul>\n          </div>\n        )}\n\n        <ul className={styles.appList}>\n          {appList.list.map((item, index) => {\n            return (\n              <li key={item.id.attributes['im:id']}>\n                <div className={styles.appListItem}>\n                  <em>{index + 1}</em>\n                  <img\n                    className={\n                      index % 2 === 0 ? styles.appIconOdd : styles.appIconEven\n                    }\n                    src={item['im:image'][1].label}\n                    alt=\"\"\n                  />\n                  <div className={styles.appListInfo}>\n                    <p className={styles.name}>{item['im:name'].label}</p>\n                    <p className={styles.category}>\n                      {item.category.attributes.label}\n                    </p>\n                    <p className={styles.comment}>\n                      {new Array(item.starNum).fill(0).map((_, index) => (\n                        <i\n                          className={styles.star}\n                          style={{ color: '#ff0' }}\n                          key={index}\n                        >\n                          &#9733;\n                        </i>\n                      ))}\n                      {new Array(5 - item.starNum).fill(0).map((_, index) => (\n                        <i\n                          className={styles.star}\n                          style={{ color: '#ccc' }}\n                          key={index}\n                        >\n                          &#9733;\n                        </i>\n                      ))}\n                      {`(${item.commentNum})`}\n                    </p>\n                  </div>\n                </div>\n              </li>\n            )\n          })}\n        </ul>\n        <LoadMore\n          loadMoreFn={() => this.getAppList(appList.current + 1)}\n          status={status}\n        />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    appList: state.main.appList,\n    recomend: state.main.recomend\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getAppList: payload => {\n      dispatch(model.actions.getAppList(payload))\n    },\n    getRecomend: payload => {\n      dispatch(model.actions.getRecomend(payload))\n    }\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Main)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport thunk from 'redux-thunk'\nimport { createLogger } from 'redux-logger'\nimport reducers from './models'\nimport Main from './pages/main'\nimport './index.css'\nimport * as serviceWorker from './serviceWorker'\n\nconst store = createStore(reducers, applyMiddleware(thunk, createLogger()))\n\nReactDOM.render(\n  <Provider store={store}>\n    <Main />\n  </Provider>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"InputSearch_searchBar__2dtue\",\"searchForm\":\"InputSearch_searchForm__CekC7\",\"inputBox\":\"InputSearch_inputBox__2-v58\",\"cancelBtn\":\"InputSearch_cancelBtn__LmXdI\"};"],"sourceRoot":""}